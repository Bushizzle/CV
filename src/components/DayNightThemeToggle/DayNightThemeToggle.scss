.switch {
  position: fixed;
  right: 30px;
  top: 30px;

  height: 20px;
  width: 50px;
  border: 1px solid var(--border-color);
  background-color: var(--background-color);
  border-radius: 10px;

  overflow: hidden;
  cursor: pointer;
}

.button {
  position: absolute;
  z-index: 2;
  left: var(--switch-offset);
  top: 0;
  transition: left ease var(--theme-animation-time), background-color ease var(--theme-animation-time);
  width: 20px;
  height: 20px;
  background-color: var(--text-color);
  border-radius: 10px;
}

body[data-theme='light'] {
  --switch-offset: 0;
  --moon-left: -10px;
  --sun-right: 4px;
}

body[data-theme='dark'] {
  --switch-offset: 30px;
  --moon-left: 5px;
  --sun-right: -10px;
}

.moon,
.moon::after {
  display: block;
  box-sizing: border-box;
  border-radius: 50%
}
.moon {
  position: absolute;
  top: 6px;
  left: var(--moon-left);
  transform: rotate(-135deg);
  transition: left ease var(--theme-animation-time);
  width: 10px;
  height: 10px;
  overflow: hidden;
  border: 1px solid;
  border-color: #fff;
  border-bottom-color: transparent;
  z-index: 1;
}
.moon::after {
  content: "";
  position: absolute;
  width: 10px;
  height: 9px;
  border: 1px solid #fff;
  top: 5px;
  left: -1px;
  z-index: 1;
}

.sun {
  box-sizing: border-box;
  position: absolute;
  top: 4px;
  right: var(--sun-right);
  transition: right ease var(--theme-animation-time);
  display: block;
  width: 12px;
  height: 12px;
  background:
          linear-gradient(to bottom,
                  currentColor 2px,transparent 0)
          no-repeat 2px -3px/1px 3px,
          linear-gradient(to bottom,
                  currentColor 2px,transparent 0)
          no-repeat 3px 7px/1px 3px,
          linear-gradient(to bottom,
                  currentColor 2px,transparent 0)
          no-repeat -4px 3px/3px 1px,
          linear-gradient(to bottom,
                  currentColor 2px,transparent 0)
          no-repeat 7px 3px/3px 1px;
  border-radius: 50px;
  box-shadow: inset 0 0 0 1px;
  border: 3px solid transparent;
  z-index: 1;
}
.sun::after,
.sun::before {
  content: "";
  display: block;
  box-sizing: border-box;
  position: absolute;
  width: 12px;
  height: 1px;
  border-right: 2px solid;
  border-left: 2px solid;
  left: -3px;
  top: 3px;
}
.sun::before {
  transform: rotate(-45deg)
}
.sun::after {
  transform: rotate(45deg)
}